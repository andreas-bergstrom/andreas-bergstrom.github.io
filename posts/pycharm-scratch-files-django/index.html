<!doctype html><html><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><title>Using PyCharm scratch files with Django - Andreas Bergström</title><meta name=viewport content="width=device-width,initial-scale=1"><meta property=og:title content="Using PyCharm scratch files with Django"><meta property=og:description content="Scratches are a great feature in PyCharm that are going to speed up your development and prototyping once you start using them. A scratch file is nothing more than a temporary file that lives outside of your regular project structure:
While the Django shell is great for trying out your code, it is not that comfortable to work with when you are writing large amounts of code. This is where scratch files comes handy, allowing you to use a regular file but without cluttering up your real codebase."><meta property=og:type content=article><meta property=og:url content=https://andreasbergstrom.com/posts/pycharm-scratch-files-django/><meta property=article:published_time content=2019-04-02T14:56:41&#43;02:00><meta property=article:modified_time content=2019-04-02T14:56:41&#43;02:00><meta name=twitter:card content=summary><meta name=twitter:title content="Using PyCharm scratch files with Django"><meta name=twitter:description content="Scratches are a great feature in PyCharm that are going to speed up your development and prototyping once you start using them. A scratch file is nothing more than a temporary file that lives outside of your regular project structure:
While the Django shell is great for trying out your code, it is not that comfortable to work with when you are writing large amounts of code. This is where scratch files comes handy, allowing you to use a regular file but without cluttering up your real codebase."><link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:500,100,300" rel=stylesheet><link rel=stylesheet type=text/css media=screen href=/css/normalize.css><link rel=stylesheet type=text/css media=screen href=/css/main.css><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src=/js/main.js></script></head><body><div class="container wrapper post"><div class=header><h1 class=site-title>Andreas Bergström</h1><div class=site-description><h2>Full Stack Web Developer</h2><nav class="nav social"><ul class=flat><a href=https://github.com/andreas-bergstrom title=Github><i data-feather=github></i></a><a href=https://www.linkedin.com/in/andreaserikbergstrom/ title=LinkedIn><i data-feather=linkedin></i></a><a href=https://stackoverflow.com/users/1202214/andreas-bergstr%c3%b6m title="Stack Overflow"><i data-feather=paperclip></i></a><a href=https://twitter.com/echoandreas title=Twitter><i data-feather=twitter></i></a><a href=mailto:hi@andreasbergstrom.com title="Send email"><i data-feather=mail></i></a></ul></nav></div><nav class=nav><ul class=flat><li><a href=/>Home</a></li><li><a href=/posts>All posts</a></li><li><a href=/about-me>About</a></li><li><a href=/tags>Tags</a></li></ul></nav></div><div class=post-header><h1 class=title>Using PyCharm scratch files with Django</h1><div class=meta>2019-04-04 - 308 words - 2 minutes to read</div><div class=meta>Tagged with<span class=tag><a href=https://andreasbergstrom.com/tags/python>python</a></span><span class=tag><a href=https://andreasbergstrom.com/tags/django>django</a></span><span class=tag><a href=https://andreasbergstrom.com/tags/pycharm>pycharm</a></span></div></div><div class=markdown><p><a href=https://www.jetbrains.com/help/pycharm/scratches.html>Scratches</a> are a great feature in PyCharm that are going to speed up your development and prototyping once you start using them. A scratch file is nothing more than a temporary file that lives outside of your regular project structure:</p><p><img src=/images/pycharm_scratches.png alt="PyCharm scratch files in Project view"></p><p>While the Django shell is great for trying out your code, it is not that comfortable to work with when you are writing large amounts of code. This is where scratch files comes handy, allowing you to use a regular file but without cluttering up your real codebase.</p><p>Though if you fire up a new scratch file and try to access any part of a Django app, for example a model, you are going to get an ImproperlyConfigured-error similar to this:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>Traceback (most recent call last):
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Library/Preferences/PyCharm2019.1/scratches/scratch_1.py&#34;</span>, line 3, <span style=color:#00f>in</span> &lt;module&gt;
    <span style=color:#00f>from</span> app.models <span style=color:#00f>import</span> Job
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Projects/kodare_se/app/models.py&#34;</span>, line 5, <span style=color:#00f>in</span> &lt;module&gt;
    <span style=color:#00f>class</span> <span style=color:#2b91af>BaseModel</span>(models.Model):
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Projects/kodare_se/venv/lib/python3.7/site-packages/django/db/models/base.py&#34;</span>, line 87, <span style=color:#00f>in</span> __new__
    app_config = apps.get_containing_app_config(module)
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Projects/kodare_se/venv/lib/python3.7/site-packages/django/apps/registry.py&#34;</span>, line 249, <span style=color:#00f>in</span> get_containing_app_config
    self.check_apps_ready()
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Projects/kodare_se/venv/lib/python3.7/site-packages/django/apps/registry.py&#34;</span>, line 131, <span style=color:#00f>in</span> check_apps_ready
    settings.INSTALLED_APPS
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Projects/kodare_se/venv/lib/python3.7/site-packages/django/conf/__init__.py&#34;</span>, line 57, <span style=color:#00f>in</span> __getattr__
    self._setup(name)
  File <span style=color:#a31515>&#34;/Users/andreasbergstrom/Projects/kodare_se/venv/lib/python3.7/site-packages/django/conf/__init__.py&#34;</span>, line 42, <span style=color:#00f>in</span> _setup
    % (desc, ENVIRONMENT_VARIABLE))
django.core.exceptions.ImproperlyConfigured: Requested setting INSTALLED_APPS, but settings are <span style=color:#00f>not</span> configured. You must either define the environment variable DJANGO_SETTINGS_MODULE <span style=color:#00f>or</span> call settings.configure() before accessing settings.</code></pre></td></tr></table></div></div><p>The reason is that you are trying to use a Django app that has not been initialized yet. Even if you are just trying to use some model the framework still need to initialize and configure itself. To do this, just drop these lines of code at the top of your scratch file (before any other imports) and replace &ldquo;YOUAPPNAME&rdquo; with your app name:</p><div class=highlight><div style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#00f>import</span> os
os.environ.setdefault(<span style=color:#a31515>&#34;DJANGO_SETTINGS_MODULE&#34;</span>, <span style=color:#a31515>&#34;YOUAPPNAME.settings&#34;</span>)

<span style=color:#00f>import</span> django
django.setup()</code></pre></td></tr></table></div></div><p>Now Django is configured and can be used as expected.</p></div><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")
return;var dsq=document.createElement('script');dsq.type='text/javascript';dsq.async=true;var disqus_shortname='andreasbergstromcom';dsq.src='//'+disqus_shortname+'.disqus.com/embed.js';(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by
Disqus.</a></noscript><a href=http://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><div class="footer wrapper"><nav class=nav><div>Built with <a href=https://gohugo.io>Hugo</a></div></nav></div><script>feather.replace()</script><script>var clicky_site_ids=clicky_site_ids||[];clicky_site_ids.push(100897614);</script><script async src=//static.getclicky.com/js></script></body></html>